server:
  port: 9055

spring:
  application:
    name: teacher-service

    token-uri: http://localhost:8080/realms/tandem/protocol/openid-connect/token

    kafka:
      bootstrap-servers: localhost:9092
      producer:
        key-serializer: org.apache.kafka.common.serialization.StringSerializer
        value-serializer: org.apache.kafka.common.serialization.StringSerializer
        properties:
          acks: "all"
          retries: 5
          enable.idempotence: true

    security:
      oauth2:
        client:
          registration:
            keycloak:
              client-id: teacher-client
              client-secret: U18g2J555hbLPRxyWBYLX13ujGHbLcMq
              client-authentication-method: client_secret_basic
              authorization-grant-type: authorization_code
              redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
              scope: openid,profile,email
              client-name: Keycloak

        provider:
          keycloak:
            issuer-uri: http://localhost:8080/realms/tandem
            user-name-attribute: preferred_username

  springdoc:
    swagger-ui:
      oauth:
        client-id: teacher-client
        client-secret: U18g2J555hbLPRxyWBYLX13ujGHbLcMq
        scopes: openid,profile,email
#    oauth2-redirect-url:




  datasource:
    url: jdbc:postgresql://localhost:5433/postDb
    username: postgres
    password: postgres
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true


logging:
  level:
    root: INFO
    org.springframework: INFO
    org.hibernate: INFO
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.springframework.security: DEBUG # КРИТИЧНО для отладки
    org.keycloak: DEBUG

kafka:
  topic:
    name: GradeTopic
